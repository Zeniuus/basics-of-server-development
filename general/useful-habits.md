# 유용한 개발 습관

필자는 생산성 향상이 좋은 습관을 기르는 것으로부터 온다고 생각한다. 습관을 기른다는 것은 곧 고민하지 않고도 무의식적으로 무언가를 처리할 수 있게 된다는 뜻이다. 더 많은 것을 무의식의 영역에서 처리할 수 있게 됨으로써, 우리는 더욱 어렵고 중요하고 가치 있는 문제에 대해 고민할 수 있는 리소스를 확보하게 된다. 필자가 아주 좋아하는 켄트 백의 말이 있다. "난 뛰어난 프로그래머가 아니에요. 단지 뛰어난 습관을 지닌 괜찮은 프로그래머일 뿐이에요."

이 문서에서는 필자의 생산성 향상에 큰 도움이 된 습관들을 요약해보았다.

## 코딩 전에 설계하기

좋은 코드를 작성하기 위해서는 코딩보다 설계가 앞서야 한다. 설계라고 이야기하면 거창하게 들릴 수도 있으니 조금 바꿔서 표현하면, **어디에 어떤 코드를 추가/변경할 것인지 미리 고민을 한 뒤 코딩을 시작해야 한다.**

좋은 설계 - 변경을 쉽게 수용할 수 있는 설계 - 의 핵심 중 하나는 **당장 구현이 편한 코드를 짜는 게 아니라 갖다 쓰기 쉬운 코드를 짜는 것**이다. 하지만 별다른 고민 없이 개발하다 보면 갖다 쓰기 쉬운 코드가 아니라 당장 구현이 편한 코드를 짜게 되기가 쉽다.

이는 마치 global optima가 아니라 local optima에 빠지는 것과 같다. 당장의 문제를 빠르고 편하게 해결하기 위해 쉽게 짜면 다음에 개발할 때 더 많은 문제를 마주하게 된다. 함수를 재활용하기가 어려워서 중복 코드가 발생하거나, 의존성이 복잡해져서 코드를 변경하기 어려워지거나, 함수 호출 플로우가 복잡해서 코드를 파악하기 어려워지는 등 다양한 문제가 발생할 수 있다.

반면 설계를 마친 개발은 주저가 없다. 발생할 수 있는 다양한 문제를 이미 충분히 고려했기 때문에, 마치 타자 연습을 하듯이 설계한 내용을 따라가면서 코드를 타이핑하기만 하면 된다. 어쩌다 예상치 못한 문제에 마주칠 수 있지만, 그런 경우에는 코딩을 멈추고 새롭게 발생한 문제까지 고려해서 다시 설계를 하면 된다. 실제 코드를 짜는 과정에서 겪는 문제가 훨씬 적기에, 설계 없이 코딩하는 것보다 충분한 고민을 거쳐 설계를 한 뒤 코딩하는 게 전체 개발 시간은 훨씬 짧게 걸린다. 스펙이 복잡하면 복잡할 수록.

이는 누구나 알고 있는 이야기지만, 코딩 전에 설계하기를 지키는 건 생각보다 쉽지 않다. 일반적인 어플리케이션을 개발하는 상황, 특히나 입사한지 얼마 되지 않은 신입이라면 큰 규모의 작업에 참여하는 일은 별로 없다. 대부분은 수 줄에서 수십 줄 사이의 간단한 코딩으로 끝낼 수 있는 작업일 것이다. 작업이 작고 어떻게 구현하면 될지가 뻔히 보이니 일단 코드부터 짜게 되는데, 이게 반복되다 보면 습관이 된다. 이런 습관이 들지 않도록 경계해야 한다.

## 셀프 리뷰하기

많은 고민을 통해 설계를 결정하고 코딩을 시작했다고 하더라도, 실제로 코딩을 진행하는 과정에서 다양한 문제가 발생할 수 있다.

- 프로덕션 레벨의 코드는 일반적으로 매우 복잡하기 때문에, 코드 변경으로 인해 영향을 받는 부분이 설계 단계에서 생각했던 것보다 더 많을 수 있다. 이런 경우 보통 기존 설계를 점진적으로 보완/수정하며 개발을 진행하는데, 이 과정에서 설계가 최선을 벗어날 수 있다.
- 설계가 아니라 구현의 영역에서 문제가 발생할 수 있다. 변수명/함수명이 적절하지 않거나, 작성한 코드에 기술적인 이슈가 존재하거나, 가독성이 떨어지는 등의 문제가 발생한다.
- 휴먼 에러가 발생할 수 있다. 설계를 코드로 옮기는 과정에서 누락한 부분이 있거나, typo 등의 단순 실수도 종종 발생한다.

이런 문제가 발생하는 이유는 코딩을 하는 동안 개발자의 시야가 좁혀지기 때문이다. 실제로 코드를 작성하다 보면 개발자의 사고는 자연스럽게 한 줄 한 줄의 코드를 잘 작성하는 것에 집중하게 되는데, 이러면 실수나 설계 미스가 잘 보이지 않게 된다.

이러한 문제를 완화하기 위한 좋은 방법으로 본인의 코드를 리뷰하는 **셀프 리뷰**를 진행할 수 있다. 즉, 코드를 작성할 때 시야가 나무를 보는 것으로 좁아졌다면, 코드를 작성한 후에 셀프 리뷰를 통해 다시 시야를 넓혀 숲을 보는 것이다. 이 과정을 통해 개발자는 최종적으로 구현된 코드가 충분히 좋은 설계를 가졌는지 되돌아보고, 단순 실수나 기술적인 이슈를 1차적으로 걸러낼 수 있다.

## 멀티태스킹을 피하기

회사와 업무에 익숙해지고, 점차 역할이 커지면서 대부분의 사람이 마주치게 되는 어려움이 하나 있다. 바로 멀티태스킹이다.

간단한 태스크를 받아서 개발하는 시기가 지나면 특정 도메인의 업무에 연속성을 가지고 참여하게 되거나 프로젝트 내에서 더 다앙한 role을 수행하게 되는데, 이 순간부터 갑자기 처리해야 하는 업무의 종류와 수가 폭발적으로 증가한다. 다른 팀과의 커뮤니케이션, QA 이슈 처리, 운영 등의 업무에 모두 참여하게 된다. 이때까지 지라 이슈를 한 개씩 가져가서 처리하기만 했는데, 갑작스럽게 커뮤니케이션 요청이 쏟아지니 잦은 컨텍스트 스위칭으로 인해 업무 효율이 급격하게 떨어진다.

다행인 점은, 이러한 어려움은 혼자만 겪는 게 아니라는 점이다. 선천적으로 멀티태스킹을 잘하는 사람도 분명 있겠지만, 대부분의 사람은 멀티태스킹을 제대로 하지 못한다. 이전에 멀티태스킹이 안 돼서 고통받던 2년차 시절, <나는 아마존에서 미래를 다녔다>라는 책을 읽다가 깜짝 놀랐다. 아마존에 다니는 훌륭한 개발자도 나랑 똑같이 멀티태스킹이 안 돼서 고생하고 있었기 때문이다.

> 그 덕분에 내 책상에도 깔끔하게 마무리짓지 못한 일들이 쌓여갔고, 어느 시점부터 내 삶의 고삐를 아마존에 내주고 말았다.
...
한 과목만 공부하면 시험을 잘 볼 텐데 언제나 인생은 동시에 여러 과목을 요구해서 나를 한계 상황으로 몰아넣곤 했다. 특히 어떤 날은 아침에 자리에 앉으면 머리에 여러 개의 못이 박혀 있는 것 같은 때도 있었다. 그 수는 내가 처리해야 할 일들의 숫자와 일치했다.

멀티태스킹의 어려움을 극복하는 방법은 단순하다. 바로 멀티태스킹을 피하는 것이다. **모든 일이 중요하고 빠르게 처리되어야 하는 건 아니다.** 어떤 일은 덜 중요하고, 어떤 일은 좀 덜 급하다. 매우 중요하고 급한 업무는 생각보다 그리 많지 않다. 대부분의 업무는 높은 시급성을 가지지 않기 때문에 바로 처리해주지 않아도 큰 문제가 발생하지 않는다.

그러니, **의도적으로 한 번에 한 개의 업무에만 집중하라. 집중할 수 있는 본인만의 환경을 구성하라. 한 번 시작한 일은 최소한 2~30분 정도는 집중할 수 있도록 하라.** 여기에는 몇 가지 좋은 방법이 있다.

- 우선순위에 따른 TODO 리스트를 만들고, 위에서부터 한 개씩 처리한다. 이는 마치 내가 해야 할 일의 queue처럼 사용할 수 있는데, 그날 새롭게 추가된 업무(e.g. 사내 메신저로 요청이 들어옴)가 있으면 우선순위에 맞춰서 적당한 곳에 TODO 아이템을 끼어넣으면 된다. 매일 아침 출근해서 TODO 리스트를 만들면 한 번에 한 개의 업무에 집중하는 데 큰 도움이 된다.
- 집중해서 일해야 하면 사내 메신저를 잠시 꺼두는 게 좋다. 많은 경우 사내 메신저에서 오는 알람이 집중을 방해하는 가장 큰 요소로 작용하기 때문이다. 단, 너무 오래 꺼두면 정말 중요한 연락을 받지 못할 수도 있으니 주의해야 한다.
- 복잡한 개발을 진행할 때는 커밋을 자주 하면 도움이 된다. 개발, 특히 리팩토링을 진행하다 보면 개발하는 도중에 새로운 이슈를 발견하는 경우가 있다. 이 때 동시에 여러 이슈를 해결하려고 하면 놓치는 부분이 발생하기 쉽고, 개발하던 코드가 마음에 안 들어서 롤백할 때도 더 많은 코드를 날려야 한다. 한 번에 하나의 이슈만 처리한 뒤 커밋을 하면 이러한 문제를 완화할 수 있다.
